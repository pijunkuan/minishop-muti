(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f60ca3f"],{"315b":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"category-main-title"},[e("strong",{staticStyle:{"margin-right":"15px"}},[t._v("分类设置")]),e("el-button",{attrs:{type:"primary",size:"mini",circle:"",plain:""},on:{click:t.createCategory}},[e("i",{staticClass:"iconfont iconjiahao"})])],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{"border-radius":"5px"},attrs:{data:t.categoryData,border:"","header-row-class-name":"table-header-row"}},[e("el-table-column",{attrs:{label:"分类ID",prop:"id"}}),e("el-table-column",{attrs:{label:"分类名称",prop:"category_title"}}),e("el-table-column",{attrs:{label:"是否启用"},scopedSlots:t._u([{key:"default",fn:function(i){return[i.row.visibility?e("el-tag",{attrs:{type:"success",size:"mini"}},[t._v("启用")]):e("el-tag",{attrs:{type:"warning",size:"mini"}},[t._v("停用")])]}}])}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{size:"mini",type:"primary",round:""},on:{click:function(e){return t.editDialog(i.row)}}},[t._v("编辑")]),i.row.visibility?e("el-button",{attrs:{size:"mini",type:"warning",round:""},on:{click:function(e){return t.changeVisi(i.row)}}},[t._v("停用")]):e("el-button",{attrs:{size:"mini",type:"success",round:""},on:{click:function(e){return t.changeVisi(i.row)}}},[t._v("启用")]),e("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(e){return t.deleteRow(i.row.id)}}},[t._v("删除")])]}}])})],1),e("el-dialog",{attrs:{title:t.title,visible:t.dialogVisibility},on:{"update:visible":function(i){t.dialogVisibility=i}}},[e("el-form",{staticClass:"dialog-edit",attrs:{"label-width":"100px"}},[e("el-form-item",{attrs:{label:"分类名称"}},[e("el-input",{model:{value:t.dialogData.category_title,callback:function(i){t.$set(t.dialogData,"category_title",i)},expression:"dialogData.category_title"}})],1),e("el-form-item",{attrs:{label:"是否启用"}},[e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"启用","inactive-text":"停用"},model:{value:t.dialogData.visibility,callback:function(i){t.$set(t.dialogData,"visibility",i)},expression:"dialogData.visibility"}})],1)],1),e("div",{staticStyle:{"text-align":"right"}},[e("el-button",{attrs:{size:"small"},on:{click:function(i){t.dialogVisibility=!1}}},[t._v("关闭")]),t.dialogId?e("el-button",{attrs:{size:"small",type:"primary",loading:t.btnLoading},on:{click:t.update}},[t._v("更新")]):e("el-button",{attrs:{size:"small",type:"primary",loading:t.btnLoading},on:{click:t.create}},[t._v("新增")])],1)],1)],1)},n=[],o=e("c405"),s={data:function(){return{categoryData:[],tableLoading:!0,title:null,dialogVisibility:!1,dialogId:null,dialogData:{},btnLoading:!1}},methods:{getData:function(){var t=this;this.tableLoading=!0,Object(o["c"])().then((function(i){var e=i.data.body;t.categoryData=e,t.tableLoading=!1})).catch((function(){t.tableLoading=!1}))},editDialog:function(t){this.title="编辑",this.dialogId=t.id,this.dialogData={category_title:t.category_title,visibility:t.visibility},this.dialogVisibility=!0},createCategory:function(){this.title="新增",this.dialogId=null,this.dialogData={category_title:null,visibility:!0},this.dialogVisibility=!0},update:function(){var t=this;this.btnLoading=!0,Object(o["d"])(this.dialogId,this.dialogData).then((function(){t.$message.success("更新成功"),t.dialogVisibility=!1,t.btnLoading=!1,t.getData()})).catch((function(i){t.$message.error(i.response.data.message),t.btnLoading=!1}))},create:function(){var t=this;this.btnLoading=!0,Object(o["a"])(this.dialogData).then((function(){t.$message.success("创建成功"),t.dialogVisibility=!1,t.btnLoading=!1,t.getData()})).catch((function(i){t.$message.error(i.response.data.message),t.btnLoading=!1}))},changeVisi:function(t){var i=this;Object(o["d"])(t.id,{visibility:!t.visibility}).then((function(){i.$message.success("更新成功"),i.getData()})).catch((function(t){i.$message.error(t.response.data.message)}))},deleteRow:function(t){var i=this;this.$confirm("是否确认删除该分类？","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])(t).then((function(){i.$message.success("删除成功!"),i.getData()})).catch((function(t){t.response.data.message?i.$message.error(t.response.data.message):i.$message.error("删除失败")}))})).catch((function(){}))}},created:function(){this.getData()}},l=s,c=(e("85e5"),e("c711"),e("2877")),r=Object(c["a"])(l,a,n,!1,null,"ff1b71e4",null);i["default"]=r.exports},4266:function(t,i,e){},"85e5":function(t,i,e){"use strict";var a=e("90cf"),n=e.n(a);n.a},"90cf":function(t,i,e){},c405:function(t,i,e){"use strict";e.d(i,"c",(function(){return n})),e.d(i,"d",(function(){return o})),e.d(i,"a",(function(){return s})),e.d(i,"b",(function(){return l}));var a=e("b775");function n(){return Object(a["a"])({url:"category",method:"get"})}function o(t,i){return Object(a["a"])({url:"category/"+t,method:"put",data:i})}function s(t){return Object(a["a"])({url:"category",method:"post",data:t})}function l(t){return Object(a["a"])({url:"category/"+t,method:"delete"})}},c711:function(t,i,e){"use strict";var a=e("4266"),n=e.n(a);n.a}}]);