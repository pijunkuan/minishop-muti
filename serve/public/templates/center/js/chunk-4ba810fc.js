(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ba810fc"],{"10e1":function(t,e,i){},4931:function(t,e,i){},"49cb":function(t,e,i){"use strict";var n=i("10e1"),a=i.n(n);a.a},"685c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return s}));var n=i("b775");function a(t){return Object(n["a"])({url:"image",method:"get",params:t})}function s(t){return Object(n["a"])({url:"image/"+t,method:"delete"})}},"6a95":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{visible:t.Visible,title:"选择图片","before-close":t.close,width:"590px"}},[i("div",{staticStyle:{"margin-bottom":"20px"}},[i("el-upload",{staticClass:"avatar-uploader upload-btn",attrs:{headers:{Authorization:"Bearer "+t.$store.getters.token},action:"//"+t.$store.getters.shop_url+"."+t.$store.getters.shop_host+"/api/center/image",name:"file","before-upload":t.beforeUpload,"show-file-list":!1,"on-success":t.successUpload}},[i("span",{staticClass:"upload-image-bar"},[t._v("上传图片")])])],1),i("div",[t.loading?i("div",{staticClass:"loading-placeholder"},[t._v("加载中...")]):t._e(),t.loading||0!==t.images.length?t._e():i("div",{staticClass:"loading-placeholder"},[t._v("暂无图片")]),t.loading||0===t.images.length?t._e():i("div",{staticStyle:{position:"relative"}},t._l(t.images,(function(e,n){return i("el-checkbox",{key:n,staticClass:"image-checkbox",attrs:{value:-1!==t.selectId.indexOf(e.id)},on:{change:function(i){return t.selectImage(e)}}},[i("el-image",{staticStyle:{width:"150px",height:"150px"},attrs:{src:e.url,fit:"scale-down"}})],1)})),1),i("el-pagination",{staticStyle:{"text-align":"center","margin-top":"10px"},attrs:{"current-page":t.fetchQuery.page,"page-size":t.fetchQuery.pageSize,total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.handleCurrent}})],1),i("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.close}},[t._v("关闭")]),i("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确定")])],1)])},a=[],s=(i("c975"),i("d81d"),i("a434"),i("685c")),o={props:{Visible:Boolean,Type:String},data:function(){return{images:[],loading:!1,fetchQuery:{page:1,pageSize:9},total:0,selectId:[],selectItem:[]}},methods:{getImages:function(){var t=this;this.loading=!0,Object(s["b"])(this.fetchQuery).then((function(e){t.images=e.data.body.data,t.total=e.data.body.page.total,t.loading=!1})).catch((function(){t.loading=!1}))},handleCurrent:function(t){this.fetchQuery.page=t,this.getImages()},beforeUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type,i=t.size/1024/1024<2;return e||this.$message.error("上传图片只能是 JPG 或 PNG 格式!"),i||this.$message.error("上传图片大小不能超过 2MB!"),e&&i},successUpload:function(){this.$message.success("上传成功"),this.getImages()},selectImage:function(t){if("mono"!==this.Type){t.isCheck=!t.isCheck;var e=this.selectId.indexOf(t.id);t.isCheck&&-1===e&&(this.selectId.push(t.id),this.selectItem.push(t)),t.isCheck||-1===e||(this.selectId.splice(e,1),this.selectItem.splice(e,1))}else this.selectMono(t)},selectMono:function(t){t.isCheck=!t.isCheck,this.images.map((function(t){t.isCheck=!1})),this.selectId=[],this.selectId.push(t.id),this.selectItem=[],this.selectItem.push(t)},close:function(){this.images=[],this.fetchQuery.page=1,this.$emit("close")},confirm:function(){0!==this.selectId.length?(this.images=[],this.fetchQuery.page=1,this.$emit("confirm",this.selectItem)):this.$message.warning("请先选择图片")}},watch:{Visible:{deep:!0,handler:function(){this.Visible&&(this.selectItem=[],this.selectId=[],this.getImages())}}}},c=o,r=(i("49cb"),i("9560"),i("2877")),l=Object(r["a"])(c,n,a,!1,null,"2f1ba2ce",null);e["a"]=l.exports},8256:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tinymce-container",class:{fullscreen:t.fullscreen},style:{width:t.containerWidth}},[i("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}}),t._v(" "),i("div",{staticClass:"editor-custom-btn-container"},[i("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:t.imageSuccessCBK}})],1)])},a=[],s=(i("4160"),i("a9e3"),i("b680"),i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:t.toSelect}},[t._v(" 选择图片 ")]),i("el-dialog",{attrs:{visible:t.dialogVisible,title:"选择图片",width:"510px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"editor-slide-images"},t._l(t.images,(function(e,n){return i("li",{key:n,class:{"is-active":-1!==t.selected_id.indexOf(e.id)},on:{click:function(i){return t.toggleImage(e)}}},[i("el-image",{staticStyle:{width:"148px",height:"148px"},attrs:{src:e.url}})],1)})),0),i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,headers:{Authorization:"Bearer "+t.$store.getters.token},action:"//"+t.$store.getters.shop_url+"."+t.$store.getters.shop_host+"/api/center/image",name:"file","list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v(" 点击上传 ")])],1),i("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":t.query.page,"page-size":t.query.pageSize,total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.handleCurrentChange}}),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确定")])],1)],1)],1)}),o=[],c=(i("a623"),i("c975"),i("d81d"),i("a434"),i("b64b"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("685c")),r={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[],loading:!1,images:[],query:{page:1,pageSize:16},total:0,selected:[],selected_id:[]}},methods:{toSelect:function(){this.dialogVisible=!0,this.getImages()},getImages:function(){var t=this;this.loading=!0,this.images=[],this.selected_id=[],this.selected=[],this.total=0,Object(c["b"])(this.query).then((function(e){t.images=e.data.body.data,t.total=e.data.body.page.total,t.loading=!1})).catch((function(){t.loading=!1}))},handleCurrentChange:function(t){this.query.page=t,this.getImages()},checkAllSuccess:function(){var t=this;return Object.keys(this.listObj).every((function(e){return t.listObj[e].hasSuccess}))},handleSubmit:function(){var t=this,e=Object.keys(this.listObj).map((function(e){return t.listObj[e]}));this.selected.map((function(t){e.push(t)})),this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("Please wait for all images to be uploaded successfully. If there is a network problem, please refresh the page and upload again!")},toggleImage:function(t){var e={url:t.url,hasSuccess:!0},i=this.selected_id.indexOf(t.id);-1===i?(this.selected.push(e),this.selected_id.push(t.id)):(this.selected.splice(i,1),this.selected_id.splice(i,1))},handleSuccess:function(t,e){for(var i=e.uid,n=Object.keys(this.listObj),a=0,s=n.length;a<s;a++)if(this.listObj[n[a]].uid===i)return this.listObj[n[a]].url=t.body.url,void(this.listObj[n[a]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,i=Object.keys(this.listObj),n=0,a=i.length;n<a;n++)if(this.listObj[i[n]].uid===e)return void delete this.listObj[i[n]]},beforeUpload:function(t){var e=this,i=window.URL||window.webkitURL,n=t.uid,a="image/jpeg"===t.type||"image/png"===t.type,s=t.size/1024/1024<2;return a?s?(this.listObj[n]={},new Promise((function(a){var s=new Image;s.src=i.createObjectURL(t),s.onload=function(){e.listObj[n]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},a(!0)}))):(this.$message.error("上传图片大小不能超过 2MB!"),s):(this.$message.error("上传图片只能是 JPG 或 PNG 格式!"),a)}}},l=r,u=(i("b2f28"),i("2877")),d=Object(u["a"])(l,s,o,!1,null,"513c4718",null),h=d.exports,g=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],f=g,m=["forecolor backcolor bold italic formatpainter underline strikethrough blockquote | alignleft aligncenter alignright outdent indent | bullist numlist table link insertdatetime | undo redo searchreplace preview code"],p=m,b=i("b85c"),y=[];function v(){return window.tinymce}var w=function(t,e){var i=document.getElementById(t),n=e||function(){};if(!i){var a=document.createElement("script");a.src=t,a.id=t,document.body.appendChild(a),y.push(n);var s="onload"in a?o:c;s(a)}function o(e){e.onload=function(){this.onerror=this.onload=null;var t,i=Object(b["a"])(y);try{for(i.s();!(t=i.n()).done;){var n=t.value;n(null,e)}}catch(a){i.e(a)}finally{i.f()}y=null},e.onerror=function(){this.onerror=this.onload=null,n(new Error("Failed to load "+t),e)}}function c(t){t.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var e,i=Object(b["a"])(y);try{for(i.s();!(e=i.n()).done;){var n=e.value;n(null,t)}}catch(a){i.e(a)}finally{i.f()}y=null}}}i&&n&&(v()?n(null,i):y.push(n))},_=w,j="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",k={name:"Tinymce",components:{editorImage:h},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var t=this.width;return/^[\d]+(\.[\d]+)?$/.test(t)?"".concat(t,"px"):t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||"")}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;_(j,(function(e){e?t.$message.error(e.message):t.initTinymce()}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["zh"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:p,menubar:!1,plugins:f,branding:!0,elementpath:!1,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",(function(){t.hasChange=!0,t.$emit("input",i.getContent())}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){e.fullscreen=t.state}))}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'.concat(t.url,'" >'))}))}}},C=k,O=(i("c66d"),Object(u["a"])(C,n,a,!1,null,"66b06b7c",null));e["a"]=O.exports},9560:function(t,e,i){"use strict";var n=i("9793"),a=i.n(n);a.a},9793:function(t,e,i){},"9d70":function(t,e,i){},b2f28:function(t,e,i){"use strict";var n=i("9d70"),a=i.n(n);a.a},c405:function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return s})),i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return c}));var n=i("b775");function a(){return Object(n["a"])({url:"category",method:"get"})}function s(t,e){return Object(n["a"])({url:"category/"+t,method:"put",data:e})}function o(t){return Object(n["a"])({url:"category",method:"post",data:t})}function c(t){return Object(n["a"])({url:"category/"+t,method:"delete"})}},c4c8:function(t,e,i){"use strict";i.d(e,"e",(function(){return a})),i.d(e,"d",(function(){return s})),i.d(e,"a",(function(){return o})),i.d(e,"c",(function(){return c})),i.d(e,"b",(function(){return r}));var n=i("b775");function a(t){return Object(n["a"])({url:"product",method:"get",params:t})}function s(t){return Object(n["a"])({url:"product/"+t,method:"get"})}function o(t){return Object(n["a"])({url:"product",method:"post",data:t})}function c(t,e){return Object(n["a"])({url:"product/"+e,method:"put",data:t})}function r(t){return Object(n["a"])({url:"product/"+t,method:"delete"})}},c66d:function(t,e,i){"use strict";var n=i("4931"),a=i.n(n);a.a},fe27:function(t,e,i){"use strict";i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return r})),i.d(e,"f",(function(){return l}));var n=i("b775");function a(){return Object(n["a"])({url:"shipment",method:"get"})}function s(t){return Object(n["a"])({url:"shipment/"+t,method:"get"})}function o(t,e){return Object(n["a"])({url:"shipment/"+t,method:"put",data:e})}function c(t){return Object(n["a"])({url:"shipment",method:"post",data:t})}function r(t){return Object(n["a"])({url:"shipment/"+t,method:"delete"})}function l(){return Object(n["a"])({url:"shipment/type",method:"get"})}}}]);